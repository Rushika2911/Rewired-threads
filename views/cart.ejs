<%- include("includes/navbar.ejs") %>
<link rel="stylesheet" href="/cartStyle.css">
    <section class="hero">
        <div class="dots dots-top-right"></div>
        <div class="dots dots-bottom-left"></div>
        <h1>Cart</h1>
        <div class="breadcrumb">
            <a href="#">Home</a> / Cart
        </div>
    </section>

        <div class="cart-section">
            <div class="cart-items">
                <div class="cart-header">
                    <div>Product</div>
                    <div>Price</div>
                    <div>Quantity</div>
                    <div>Subtotal</div>
                </div>

                <% if (cart && cart.items.length > 0) { %>
                    <% cart.items.forEach(item => { %>
                        <div class="cart-item" data-id="<%= item._id %>">
                            <div class="item-wrapper">
                                <button class="x-button">✕</button>
                                <div class="product-info">
                                    <img src="<%= item.image %>" alt="<%= item.name %>" class="product-image">
                                    <div class="product-details">
                                        <h3><%= item.name %></h3>
                                        <p>Color: <%= item.color %> | Size: <%= item.size %></p>
                                    </div>
                                </div>
                            </div>
                            <div class="price">$<%= item.price.toFixed(2) %></div>
                            <div class="quantity-selector">
                                <button class="quantity-btn decrement">−</button>
                                <input type="text" class="quantity-input" value="<%= item.quantity %>" min="1">
                                <button class="quantity-btn increment">+</button>
                            </div>
                            <div class="subtotal">$<%= (item.price * item.quantity).toFixed(2) %></div>
                        </div>
                    <% }); %>
                <% } else { %>
                    <div class="empty-cart-message">
                        <p>Your cart is empty</p>
                    </div>
                <% } %>

                <div class="coupon-section">
                    <input type="text" class="coupon-input" placeholder="Coupon Code">
                    <button class="coupon-btn">Apply Coupon</button>
                </div>
                <button class="clear-cart-btn">Clear Shopping Cart</button>
            </div>

            <div class="order-summary">
                <h2 class="summary-title">Order Summary</h2>
                <div class="summary-row">
                    <div>Items</div>
                    <div><%= cart ? cart.items.length : 0 %></div>
                </div>
                <div class="summary-row">
                    <div>Sub Total</div>
                    <div>$<%= cart ? cart.totalAmount.toFixed(2) : '0.00' %></div>
                </div>
                <div class="summary-row">
                    <div>Shipping</div>
                    <div>$00.00</div>
                </div>
                <div class="summary-row">
                    <div>Taxes</div>
                    <div>$00.00</div>
                </div>
                <div class="summary-row">
                    <div>Coupon Discount</div>
                    <div class="discount">-$<%= cart ? cart.discount.toFixed(2) : '0.00' %></div>
                </div>
                <div class="summary-row total">
                    <div>Total</div>
                    <div>$<%= cart ? (cart.totalAmount - cart.discount).toFixed(2) : '0.00' %></div>
                </div>
                <button class="checkout-btn">Proceed to Checkout</button>
            </div>
        </div>

        <section class="features">
        <div class="features-container">
            <div class="feature">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4e2a10" viewBox="0 0 16 16">
                        <path d="M0 3.5A1.5 1.5 0 0 1 1.5 2h9A1.5 1.5 0 0 1 12 3.5V5h1.02a1.5 1.5 0 0 1 1.17.563l1.481 1.85a1.5 1.5 0 0 1 .329.938V10.5a1.5 1.5 0 0 1-1.5 1.5H14a2 2 0 1 1-4 0H5a2 2 0 1 1-3.998-.085A1.5 1.5 0 0 1 0 10.5v-7zm1.294 7.456A1.999 1.999 0 0 1 4.732 11h5.536a2.01 2.01 0 0 1 .732-.732V3.5a.5.5 0 0 0-.5-.5h-9a.5.5 0 0 0-.5.5v7a.5.5 0 0 0 .294.456zM12 10a2 2 0 0 1 1.732 1h.768a.5.5 0 0 0 .5-.5V8.35a.5.5 0 0 0-.11-.312l-1.48-1.85A.5.5 0 0 0 13.02 6H12v4zm-9 1a1 1 0 1 0 0 2 1 1 0 0 0 0-2zm9 0a1 1 0 1 0 0 2 1 1 0 0 0 0-2z"/>
                    </svg>
                </div>
                <div class="feature-info">
                    <h3>Free Shipping</h3>
                    <p>Free shipping for order above $180</p>
                </div>
            </div>
            <div class="feature">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4e2a10" viewBox="0 0 16 16">
                        <path d="M8 1a2.5 2.5 0 0 1 2.5 2.5V4h-5v-.5A2.5 2.5 0 0 1 8 1zm3.5 3v-.5a3.5 3.5 0 1 0-7 0V4H1v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V4h-3.5z"/>
                    </svg>
                </div>
                <div class="feature-info">
                    <h3>Flexible Payment</h3>
                    <p>Multiple secure payment options</p>
                </div>
            </div>
            <div class="feature">
                <div class="feature-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#4e2a10" viewBox="0 0 16 16">
                        <path d="M8 1a5 5 0 0 0-5 5v1h1a1 1 0 0 1 1 1v3a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6a6 6 0 1 1 12 0v6a2.5 2.5 0 0 1-2.5 2.5H9.366a1 1 0 0 1-.866.5h-1a1 1 0 1 1 0-2h1a1 1 0 0 1 .866.5H11.5A1.5 1.5 0 0 0 13 12h-1a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h1V6a5 5 0 0 0-5-5z"/>
                    </svg>
                </div>
                <div class="feature-info">
                    <h3>24x7 Support</h3>
                    <p>We support online all days</p>
                </div>
            </div>
        </div>
    </section>
    </div>
     
    <script src="/cartScript.js"></script>

    <%- include("includes/footer.ejs") %>